chezmoi --format=json dump
cmpenv stdout golden/dump.json

chezmoi --format=json dump $HOME${/}.bashrc
cmpenv stdout golden/dump-bashrc.json

chezmoi --format=json dump $HOME${/}.ssh
cmpenv stdout golden/dump-ssh.json

chezmoi --format=json --recursive=false dump $HOME${/}.ssh
cmpenv stdout golden/dump-ssh-non-recursive.json

chezmoi --format=toml dump
cmpenv stdout golden/dump.toml

chezmoi --format=yaml dump
cmpenv stdout golden/dump.yaml

! chezmoi dump $HOME${/}.inputrc
stdout 'not in source state'

-- golden/dump.json --
{
  ".bashrc": {
    "type": "file",
    "name": ".bashrc",
    "contents": "# contents of .bashrc\n",
    "perm": 420
  },
  ".ssh": {
    "type": "dir",
    "name": ".ssh",
    "perm": 448
  },
  ".ssh/config": {
    "type": "file",
    "name": ".ssh/config",
    "contents": "# contents of .ssh/config\n",
    "perm": 420
  }
}
-- golden/dump-bashrc.json --
{
  ".bashrc": {
    "type": "file",
    "name": ".bashrc",
    "contents": "# contents of .bashrc\n",
    "perm": 420
  }
}
-- golden/dump-ssh.json --
{
  ".ssh": {
    "type": "dir",
    "name": ".ssh",
    "perm": 448
  },
  ".ssh/config": {
    "type": "file",
    "name": ".ssh/config",
    "contents": "# contents of .ssh/config\n",
    "perm": 420
  }
}
-- golden/dump-ssh-non-recursive.json --
{
  ".ssh": {
    "type": "dir",
    "name": ".ssh",
    "perm": 448
  }
}
-- golden/dump.toml --

[]

  [bashrc]
    contents = "# contents of .bashrc\n"
    name = ".bashrc"
    perm = 420
    type = "file"

  [ssh]
    name = ".ssh"
    perm = 448
    type = "dir"

  [ssh/config]
    contents = "# contents of .ssh/config\n"
    name = ".ssh/config"
    perm = 420
    type = "file"
-- golden/dump.yaml --
.bashrc:
  type: file
  name: .bashrc
  contents: |
    # contents of .bashrc
  perm: 420
.ssh:
  type: dir
  name: .ssh
  perm: 448
.ssh/config:
  type: file
  name: .ssh/config
  contents: |
    # contents of .ssh/config
  perm: 420
-- home/user/.local/share/chezmoi/dot_bashrc --
# contents of .bashrc
-- home/user/.local/share/chezmoi/private_dot_ssh/config --
# contents of .ssh/config
